<main class="w-full py-7 px-14">
  <!-- Title Container and Filter Container and Product List -->
  <div class="w-full flex flex-col gap-5">
    <!-- Title -->
    <div>
      <h2 class="font-bold">Your products</h2>
      <h4 class="font-light text-xs text-gray-600">Access and manage your list of products for sale</h4>
    </div>

    <!-- Filter Container and Product List -->
    <div class="w-full flex gap-4 items-start">
      <!-- Filter -->
      <div class="bg-white rounded-2xl p-9">
        <!-- Title -->
        <h3 class="text-gray-600 font-bold mb-5">Filter</h3>

        <!-- Input Container, Dropbox, and Filter Button -->
        <form class="flex flex-col gap-9" [formGroup]="filterForm" (ngSubmit)="filterProducts()">
          <!-- Search Input -->
          <div class="flex border-b border-gray-300 pb-2">
            <img class="mr-2 opacity-85 w-5 h-5" src="search.svg" alt="" aria-hidden="true" />
            <label for="input-search" class="sr-only">filter by title</label>
            <input
              class="text-gray-400 text-sm focus:outline-none"
              type="text"
              placeholder="Pesquisar"
              formControlName="title"
              id="input-search"
            />
          </div>

          <!-- Status Select -->
          <label for="select-status" class="sr-only">Filter by status</label>
          <select
            class="w-full bg-white border-b border-gray-300 text-gray-400 py-2 text-sm focus:outline-none"
            formControlName="status"
            id="select-status"
          >
            <option value="" disabled selected hidden>Status</option>
            <option value="Advertised">Advertised</option>
            <option value="Sold">Sold</option>
            <option value="Deactivated">Deactivated</option>
          </select>

          <div class="flex flex-col gap-2">
            <!-- Apply filter button -->
            <button
              class="flex justify-center p-3 rounded-lg bg-[#F24D0D] cursor-pointer active:translate-y-2 duration-200
      ease-in-out transition"
              type="submit"
            >
              <span class="text-white text-sm">Apply filter</span>
            </button>

            <!-- Clear filter button -->
            <button
              class="flex justify-center p-3 rounded-lg bg-[#6aa3ff] cursor-pointer active:translate-y-2 duration-200
      ease-in-out transition"
              (click)="clearFilter()"
              type="button"
            >
              <span class="text-white text-sm">Cleat filter</span>
            </button>
          </div>
        </form>
      </div>

      <!-- Products listts -->
      <section class="flex gap-3 flex-wrap" aria-describedby="products-list-section">
        <label id="products-list-section" class="sr-only">Product List</label>
        @for (product of filteredProducts; track product.id) {
          <div class="bg-white rounded-2xl p-1 w-[45%] min-w-96 flex flex-col cursor-pointer">
            <div class="h-48 relative">
              <img
                class="rounded-2xl w-full h-48 object-cover"
                [src]="product.imageBase64"
                [alt]="'Product image: ' + product.title"
              />
              <div class="flex justify-center gap-1 absolute top-4 right-4">
                <span
                  class="p-2 rounded-2xl text-xs text-white"
                  [class]="{
                  'bg-[#0095E5]': product.status === 'Advertised',
                  'bg-[#28A745]': product.status === 'Sold',
                  'bg-[#666]': product.status === 'Deactivated'
                  }"
                >{{ product.status.toUpperCase() }}</span>
                <span class="bg-[#3D3D3D] p-2 rounded-2xl text-xs text-white">{{ product.category.toUpperCase() }}</span>
              </div>
            </div>
            <div class="flex justify-between p-3">
              <h3 class="font-bold text-gray-700">{{ product.title }}</h3>
              <h3 class="font-bold"><span class="text-xs font-medium">R$</span>{{ product.price }}</h3>
            </div>
            <div class="px-3 pb-3">
              <p class="text-gray-500 text-sm">{{ product.description }}</p>
            </div>
          </div>
        } @empty {
          <p class="text-bold text-gray-500" role="status">No products found.</p>
        }
      </section>
    </div>
  </div>
</main>
